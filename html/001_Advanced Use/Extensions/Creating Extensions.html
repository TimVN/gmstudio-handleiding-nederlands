<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
<head>
		<meta http-equiv="Content-type" content="text/html;charset=UTF-8">
	<title>Creating An Extension</title>
	<meta http-equiv="X-UA-Compatible" content="IE=9" />
	<link rel="stylesheet" href="../../style.css" type="text/css" media="screen" title="style" charset="utf-8"/>
</head>
<body>


<h1>Creating An Extension</h1>

<h2>This section details how to use extensions in <i>GameMaker:Studio</i>.</h2>

<p>
To create an extension (no matter what format file you are using) you must first start by right clicking on the Extension resource in the resource tree and selecting <b>Create Extension</b> 
which will open the following window :

<img class="center" src="Extension_properties.png">

Here you can give your extension a name, fill in the author details, add licensing information and a brief description of what the extension is for. If you choose to export your finished extension as 
a <tt>*.gex</tt> for distribution, all this information will be saved along with it. Once that is done, you then have to go and add the file (or files) that you wish to use for the gex, and this is done by 
right clicking on the new extension and selecting <b>Add File</b>. This will open up a normal explorer window where you can select the file to import into your extension.
<br>
<br>

The choice of file reatly influnces how <i>GameMaker:Studio</i> will use the extension as different file types will influence the target platforms that it can be used on when you compile your game. You 
can have three types of extensions in <i>GameMaker:Studio</I> :

<blockquote>
<ul>
	<li><b>GML : </b>This is an extension made only with the GameMaker Language and is compatible with all platforms.</li><br>
	
	<li><b>.js : </b>This is a JavaScript extension and is only compatible with the HTML5 target.</li><br>
	
	<li><b>.dll : </b>This a dynamic-link library extension and is only compatible with the Windows target.</li>
</ul>
</blockquote>

<h3>File Properties</h3>
<p>
As you can see, not all extensions are compatible with all target platforms, so you should first open up the extensions resource tree and select for each of the installed extensions a target from their 
<b>Extension Properties</b>. This can be achieved by double clicking on the extension file (<i>NOT</i> the package itself), or by right clicking and selecting "Extension Properties" from the pop up 
menu. Either action will open up  the following window :

<img  class="center" src="Extension_File_Properties.png">

In this window you can re-name the file that is to be used as the extension (this file is then saved with the gmx project and any changes should be made in the project file, and <i>not</i> to the 
original) and you can define the <b>Init Function</b> and the <b>Final Function</b>. These functions are the ones that the *.dll or *.js needs to have called to set them up for use with <i>GameMaker:Studio</i> 
and to free them again when the game closes. They are called automatically, with no arguments, and you should note that these are not always neccessay so you should check the documentation for the file 
you wish to use as an extension first to see if these functions are necessary or can be left blank.
<br>
<br>

The final section is labelled <b>Copies To</b>. Here you can see a list of target platforms which you can tick (or un-tick) as appropriate for your extension. In this way, you can have (for example) 
two hi-score extensions, one *.dll and one *.js that have the same functionality but work for different target platforms. You would tick ONLY the Windows checkbox for the *.dll and ONLY the HTML5 
checkbox for the *.js and then <i>GameMaker</i> will know to use only the appropriate one for the target platform. You can <i>also</i> set up different configurations and tick/un-tick options as 
necessary depending on the current configuration chosen (for more information see <a href="../007_Configurations.html">Advanced Use : Configurations</a>).
<br>
<br>

<h3>Adding Functions and Constants</h3>
<p>
Now you have added the necessary files to the extension, it is time for you to add the functions and constants that you wish the extension to use. This is done by right-clicking on the file and selecting either 
<b>Add Function</b> or <b>Add Constant</b>. For a constant, it is simply a case of giving it a name (only letters from A-Z, numbers and the underbar "_" symbol are permitted, and the name <i>must not</i> 
start with a number) and a value and then clicking on the "Okay" button. if you choose to add a function, then the following window will open :

<img  class="center" src="Empty_Function.png">

The different options presented here are :

<blockquote>
<ul>
	<li><b>Name</b> - This is the GML name of the function (only letters from A-Z, numbers and the underbar "_" symbol are permitted, and the name <i>must not</i> start with a number).</li><br>

	<li><b>External Name</b> -  Here you must put the name of the original function as it is recognised by the extension, even if the <b>Name</b> is the same.</li><br>

	<li><b>Help</b> - This is the text that will appear at the bottom of the script editor and should be a correct form of the function syntax with the format <i>function(argument0,argument1)</i>.</li><br>

	<li><b>Return Type</b> - What the function returns. This can be either a string (text) or a double (real number).</li><br>

	<li><b>Type (dll only)</b> - The calling convention used to call the function.</li><br>

	<li><b>Arguments</b> - Here you can list all the arguments that your function can take as well as the type (string or double). this is limited to a maximum of sixteen arguments.</li>
</ul>
</blockquote>

<p>
Once you have defined all your constants and functions, the extension is ready to be used and distributed as a *.gex. To create a *.gex all you have to do is right-click on the extension name and select 
<b>Export to Gex</b>, which will open a save dialogue where you can say where to save the final *.gex file to. Once this is done you can then use the same gex in other projects, or distribute it for others to 
use.
<br>
<br>

<b><i>Note : </b>A saved *.gex does <b>not</b> save the configuration options, and those will have to be set whenever you load a created gex into a new project.</i>
<br>
<br>

<p>
<br>
</p>
<p>

<div class="clear">
	<div style="float:left">
		Back : <a href="index.html">Extension Packages</a>
	</div>
	<!--<div style="float:right">
		Next : <a href="Creating_Extensions.html">Creating An Extension</a>
	</div>-->
</div>
</p>

<h5>&copy; Copyright YoYo Games Ltd. 2013 All Rights Reserved</h5></body>
</html>

<!-- KEYWORDS
-->