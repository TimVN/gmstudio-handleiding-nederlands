<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
	<head>
		<title>audio_play_sound_at</title>
		<meta http-equiv="X-UA-Compatible" content="IE=9" />
		<link rel="stylesheet" href="../../../style.css" type="text/css" media="screen" title="style" charset="utf-8"/>
	</head>
<body>

<h1>audio_play_sound_at</h1>

<h2>Plays the indicated sound at a given position.</h2>

<h3>Syntax :</h3>
<p class="code">audio_play_sound_at(index, x, y, z, falloff_ref, falloff_max, falloff_factor, loop, priority);</p>

<p>
<br>
</p>

<div class="param">
<table>
	<tr><th>Argument</th><th>Description</th></tr>
	
	<tr><td>index</td>
	<td>The index of the sound to play.</td></tr>
	
	<tr class="alt"><td>x</td>
	<td>The x position relative to the listener.</td></tr>

	<tr><td>y</td>
	<td>The y position relative to the listener.</td></tr>
	
	<tr class="alt"><td>z</td>
	<td>The z position relative to the listener.</td></tr>
	
	<tr><td>falloff_ref</td>
	<td>The falloff reference relative to the listener (clamp).</td></tr>

	<tr class="alt"><td>falloff_max</td>
	<td>The maximum falloff distance relative to the listener.</td></tr>
	
	<tr><td>falloff_factor</td>
	<td>The falloff factor (default 1).</td></tr>
	
	<tr class="alt"><td>loop</td>
	<td>Flags the sound as looping or not.</td></tr>

	<tr><td>priority</td>
	<td>Set the channel priority for the sound.</td></tr>
	
</table>
</div>
<p>
<br>
</p>
  
<p>
<b>Returns : </b>Index
</p>

 <p>
<br>
</p>

<h3>Description</h3>
<p>
With this function you can play any sound resource that is not background music (for that use <a href="audio_play_music.html"><tt>audio_play_music</tt></a>). You provide the sound index and then 
assign it a position relative to the <i>listener position</i> (for more information see <a href="audio_listener_position.html"><tt>audio_listener_position</tt></a>) in 3D space. The default listener position 
is (0, 0, 0) so this means that if the listener has not been moved and you want the sound to come from the left (for example), you should set the x position to a negative value.
<br>
<br>

You can also set a fall-off distance (0 will make the sound silent, default is 100) which will make the sound fade out as it gets further from the listener position. How the fade itself is heard will depend on the 
falloff reference (which is the distance under which the volume for the source would normally drop by half) and the roll off factor (which affects the sound past the falloff reference distance only). The default factor 
is normally 1, and the effect of the different falloff values will depend on the model choosen (for a complete guide to the different falloff models and how these values are used, please see the function 
<a href="audio_falloff_set_model.html"><tt>audio_falloff_set_model</tt></a>).
<br>
<br>

The last two arguments are to set the sound is to loop or not and, finally, for assigning a priority to the sound. This priority is then used to determine how sounds are dealt with when the number of sounds playing 
is over the limit set by the function <a href="audio_channel_num.html"><tt>audio_channel_num</tt></a>. Lower priority sounds will be stopped in favour of higher priority sounds, and the priority value can be 
any real number (the actual value is arbitrary, and can be from 0 to 1 or 0 to 100, as <i>GameMaker:Studio</i> will prioritise them the same).
<br>
<br>

This function will return a unique index number for the sound being played which can then be stored in a variable so that you can then pause it or stop it with the appropriate functions. This means that if you have 
multiple instances of the same sound playing at any one time you can target just one instance of that sound to deal with using the audio functions.
<br>
<br>

<p>
<br>
</p>

<h3>Example :</h3>
<p class="code">
if global.SFX<br>
&nbsp;&nbsp;&nbsp;{<br>
&nbsp;&nbsp;&nbsp;audio_play_sound_at(snd_Waterfall, x, y, 0, 100, 300, 1, true, 1);<br>
&nbsp;&nbsp;&nbsp;}<br>
</p>
<p>
The above code checks the the global variable "SFX" and if it returns <tt>true</tt> then the sound indexed in the variable "snd_Waterfall" will be looped at it's room position, with a fall-off reference of 100, a falloff 
distance of 300, a falloff factor of 1 and a low priority.
</p>

<p>
<br>
</p>
<p>

<div class="clear">
	<div style="float:left">
		Back : <a href="index.html">Sound</a>
	</div>
	<div style="float:right">
		Next : <a href="audio_pause_sound.html">audio_pause_sound</a>
	</div>
</div>
</p>

<h5>&copy; Copyright YoYo Games Ltd. 2013 All Rights Reserved</h5></body>
</html>

<!-- KEYWORDS
audio_play_sound_at
-->
